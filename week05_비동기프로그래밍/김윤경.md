## 동기 처리와 비동기 처리

> `동기 처리`: 현재 실행 중인 태스크가 종료할 때까지 다음에 실행될 태스크가 대기하는 방식

- 장점: 태스크를 순서대로 하나씩 처리하므로 실행 순서가 보장된다.
- 단점: 앞선 태스크가 종료할 때까지 이후 태스크들이 블로킹 된다.

> `비동기 처리`: 현재 실행 중인 태스크가 종료 되지 않은 상태라 해도 다음 태스크를 곧바로 실행하는 방식

- 장점: 현재 실행 중인 태스크가 종료되지 않은 상태라 해도 다음 태스크를 곧바로 실행하므로 블로킹이 발생하지 않는다.
- 단점: 태스크의 실행 순서가 보장되지 않는다.
- setTimeout, setInterval, HTTP 요청, 이벤트 핸들러는 비동기 처리 방식으로 동작한다.

<br />
<br />

## 이벤트 루프와 태스크 큐

자바스크립트는 기본적으로 싱글 스레드 방식이다. 하지만 브라우저가 동작하는 것을 살펴보면 많은 태스크가 `동시에 처리되는 것처럼 느껴진다.`

- **태스크 큐**
  - `비동기 함수의 콜백 함수 or 이벤트 핸들러가 일시적으로 보관되는 영역`이다.
- **이벤트 루프**
  - 브라우저에 내장되어 있는 기능 중 하나로 자바스크립트의 `동시성을 지원`한다.
  - `콜 스택에 현재 실행 중인 실행 컨텍스트가 있는지, 그리고 이벤트 큐에 대기 중인 함수가 있는지 반복해서 확인`한다.
    - 만약, 콜 스택이 비어 있고 이벤트 큐에 대기 중인 함수가 있다면 이벤트 루프는 순차적으로(FIFO)으로 이벤트 큐에 대기 중인 함수를 콜 스택으로 이동시킨다.
    - 콜 스택으로 이동한 함수는 실행된다. 즉, 이벤트 큐에 일시 보관된 함수들은 비동기 처리 방식으로 동작한다.

<img width="768" alt="이벤트 루프와 브라우저 환경" src="https://github.com/prgrms-web-devcourse/FEDC5_JavaScript_study/assets/100656920/e8473006-5743-45f9-a5fc-84da198cd69b">

자바스크립트 엔진은 싱글 스레드로 동작하지만 브라우저는 멀티 스레드로 동작한다.

<br />

### 자바스크립트 엔진 구성 영역

- **콜 스택(실행 컨텍스트 스택)**

  - 소스코드 평가 과정에서 함수의 실행 컨텍스트가 추가되고 제거되는 스택 자료구조

- **힙**
  - `객체가 저장되는 메모리 공간`, `콜 스택의 실행 컨텍스트는 힙에 저장된 객체를 참조`
  - 메모리가 값을 저장하려면 먼저 메모리의 크기를 결정해야 한다.
  - 객체는 원시 값과 달리 크기가 정해져 있지 않고, `런타임 시점에 할당된다.`
  - 따라서, `객체가 저장되는 메모리 공간인 힙은 구조화되어 있지 않다는 특징`이 있다.
